<div class="main-card card shadow mb-4 col-md-12 mx-auto" x-data="fetchData('/apis')">
    <h2 class="card-header">Add New Api</h2>
    <form id="apiForm" novalidate>
        <div class="card-body">
            <template x-if="errors != null">
                <div class="alert alert-danger fade show alert-dismissible" role="alert" x-html="errors"></div>
            </template>
            <div class="form-group required mb-3">
                <label for="proxyPath" class="form-label">Proxy Path</label>
                <input
                        type="text"
                        id="proxyPath"
                        name="proxyPath"
                        class="form-control"
                        placeholder="/v1/example/path"
                        pattern="/.+"
                        x-model="postData.proxyPath"
                        required>
                <em class="invalid-feedback">Please provide a valid proxy path.</em>
            </div>

            <div class="form-group required mb-3">
                <label for="proxyUrl" class="form-label">Proxy URL</label>
                <input
                        type="url"
                        id="proxyUrl"
                        name="proxyUrl"
                        class="form-control"
                        placeholder="https://example.com"
                        pattern="http(s)?://.+"
                        x-model="postData.proxyUrl"
                        required>
                <em class="invalid-feedback">Please provide a valid URL.</em>
            </div>

            <div class="form-group required mb-3">
                <label for="owner" class="form-label">Owner</label>
                <input
                        type="text"
                        id="owner"
                        name="owner"
                        class="form-control"
                        placeholder="Team Marvel"
                        x-model="postData.owner"
                        minlength="5"
                        maxlength="50"
                        required>
                <em class="invalid-feedback">Please provide a valid owner name between 5-50 characters.</em>
            </div>

            <div class="form-group mb-3">
                <div class="toggle btn btn-primary" data-toggle="toggle" role="button">
                    <label class="form-check-label">Enabled</label>
                    <input id="enabled" type="checkbox" data-toggle="toggle" x-model="postData.enabled">
                    <div class="toggle-group">
                        <label for="enabled" class="btn btn-primary btn-xs toggle-on">On</label>
                        <label for="enabled" class="btn btn-light btn-xs toggle-off">Off</label>
                        <span class="toggle-handle btn btn-light"></span>
                    </div>
                </div>
            </div>

            <!-- Description -->
            <div class="form-group required mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea
                        id="description"
                        name="description"
                        class="form-control"
                        placeholder="Add a description here..."
                        x-model="postData.description"
                        rows="3"
                        maxlength="200"
                        required></textarea>
            </div>

            <!-- Open API URL -->
            <div class="form-group mb-3">
                <label for="openApiUrl" class="form-label">Open API URL</label>
                <input
                        type="text"
                        id="openApiUrl"
                        name="openApiUrl"
                        class="form-control"
                        placeholder="https://api.example.com"
                        pattern="https?://.*"
                        x-model="postData.openApiUrl">
                <em class="invalid-feedback">Please provide a valid URL.</em>
            </div>

            <!-- Max Requests -->
            <div class="form-row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="maxRequests" class="form-label">Rate-limit: max requests per minute</label>
                        <input
                                type="number"
                                id="maxRequests"
                                name="maxRequests"
                                class="form-control"
                                placeholder="1 - 1,000,000"
                                x-model="postData.maxRequests"
                                min="1"
                                max="1000000">
                        <em class="invalid-feedback">Please provide a number between 1 and 1,000,000.</em>
                    </div>
                </div>
            </div>

            <!-- Authentication Type -->
            <div class="form-row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="authenticationType" class="form-label">Authentication Type</label>
                        <select id="authenticationType" name="authenticationType" class="form-control" x-model="postData.authenticationType">
                            <option value="">Select...</option>
                            <option value="PASSTHROUGH">Passthrough</option>
                            <option value="BASIC">Basic</option>
                            <option value="TOKEN">Token</option>
                            <option value="CLIENT_CREDENTIALS">Client Credentials</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="d-block text-right card-footer">
                <button class="mr-2 btn btn-link btn-sm">Cancel</button>
                <button type="submit" class="btn btn-primary" @click.prevent="post('#apiForm', '/apis')">Submit</button>
            </div>
        </div>
    </form>
</div>